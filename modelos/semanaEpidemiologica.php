<?php

class SemanaEpidemiologica{

    static public function getSemanaEpidemiologica(){

        $semanasEpidemiologicas = array( 

            "1"	  => array("03-01-2021 00:00:00","09-01-2021 24:00:00"), 
            "2"	  => array("10-01-2021 00:00:00","16-01-2021 24:00:00"), 
            "3"   => array("17-01-2021 00:00:00","23-01-2021 24:00:00"),
            "4"   => array("24-01-2021 00:00:00","30-01-2021 24:00:00"),

            "5"   => array("31-01-2021 00:00:00","06-02-2021 24:00:00"),
            "6"   => array("07-02-2021 00:00:00","13-02-2021 24:00:00"),
            "7"   => array("14-02-2021 00:00:00","20-02-2021 24:00:00"),
            "8"   => array("21-02-2021 00:00:00","27-02-2021 24:00:00"),

            "9"   => array("28-02-2021 00:00:00","06-03-2021 24:00:00"),
            "10"  => array("07-03-2021 00:00:00","13-03-2021 24:00:00"),
            "11"  => array("14-03-2021 00:00:00","20-03-2021 24:00:00"),
            "12"  => array("21-03-2021 00:00:00","27-03-2021 24:00:00"),

            "13"  => array("28-03-2021 00:00:00","03-04-2021 24:00:00"),
            "14"  => array("04-04-2021 00:00:00","10-04-2021 24:00:00"),
            "15"  => array("11-04-2021 00:00:00","17-04-2021 24:00:00"),
            "16"  => array("18-04-2021 00:00:00","24-04-2021 24:00:00"),

            "17"  => array("25-04-2021 00:00:00","01-05-2021 24:00:00"),
            "18"  => array("02-05-2021 00:00:00","08-05-2021 24:00:00"),
            "19"  => array("09-05-2021 00:00:00","15-05-2021 24:00:00"),
            "20"  => array("16-05-2021 00:00:00","22-05-2021 24:00:00"),
            "21"  => array("23-05-2021 00:00:00","29-05-2021 24:00:00"),

            "22"  => array("30-05-2021 00:00:00","05-06-2021 24:00:00"),
            "23"  => array("06-06-2021 00:00:00","12-06-2021 24:00:00"),
            "24"  => array("13-06-2021 00:00:00","19-06-2021 24:00:00"),
            "25"  => array("20-06-2021 00:00:00","26-06-2021 24:00:00"),

            "26"  => array("27-06-2021 00:00:00","03-07-2021 24:00:00"),
            "27"  => array("04-07-2021 00:00:00","10-07-2021 24:00:00"),
            "28"  => array("11-07-2021 00:00:00","17-07-2021 24:00:00"),
            "29"  => array("18-07-2021 00:00:00","24-07-2021 24:00:00"),
            "30"  => array("25-07-2021 00:00:00","31-07-2021 24:00:00"),

            "31"  => array("01-08-2021 00:00:00","07-08-2021 24:00:00"),
            "32"  => array("08-08-2021 00:00:00","14-08-2021 24:00:00"),
            "33"  => array("15-08-2021 00:00:00","21-08-2021 24:00:00"),
            "34"  => array("22-08-2021 00:00:00","28-08-2021 24:00:00"),

            "35"  => array("29-08-2021 00:00:00","04-09-2021 24:00:00"),
            "36"  => array("05-09-2021 00:00:00","11-09-2021 24:00:00"),
            "37"  => array("12-09-2021 00:00:00","18-09-2021 24:00:00"),
            "38"  => array("19-09-2021 00:00:00","25-09-2021 24:00:00"),

            "39"  => array("26-09-2021 00:00:00","02-10-2021 24:00:00"),
            "40"  => array("03-10-2021 00:00:00","09-10-2021 24:00:00"),
            "41"  => array("10-10-2021 00:00:00","16-10-2021 24:00:00"),
            "42"  => array("17-10-2021 00:00:00","23-10-2021 24:00:00"),
            "43"  => array("24-10-2021 00:00:00","30-10-2021 24:00:00"),

            "44"  => array("31-10-2021 00:00:00","06-11-2021 24:00:00"),
            "45"  => array("07-11-2021 00:00:00","13-11-2021 24:00:00"),
            "46"  => array("14-11-2021 00:00:00","20-11-2021 24:00:00"),
            "47"  => array("21-11-2021 00:00:00","27-11-2021 24:00:00"),

            "48"  => array("28-11-2021 00:00:00","04-12-2021 24:00:00"),
            "49"  => array("05-12-2021 00:00:00","11-12-2021 24:00:00"),
            "50"  => array("12-12-2021 00:00:00","18-12-2021 24:00:00"),
            "51"  => array("19-12-2021 00:00:00","25-12-2021 24:00:00"),
            "52"  => array("26-12-2021 00:00:00","01-01-2022 24:00:00"),
        );

        $fecha_actual = strtotime(date("d-m-Y H:i:s",time()));
        $semana = 0;
        foreach($semanasEpidemiologicas as $num => $value){
            $fechaIni = strtotime($value[0]);
            $fechaFin = strtotime($value[1]);

            if($fecha_actual >= $fechaIni && $fecha_actual <= $fechaFin){
                $semana =  $num;
                break;
            }
        }

        return $semana;
    }
}